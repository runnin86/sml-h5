webpackJsonp([13],{44:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.wxShareConfig=e.loader=e.hookTime=e.getDateDiff=void 0;var i=a(11),o=n(i),l=a(81),s=n(l);e.getDateDiff=function(t,e,a){t=t.replace(/\-/g,"/"),e=e.replace(/\-/g,"/"),a=a.toLowerCase();var n=new Date(t),i=new Date(e),o=1;switch(a){case"second":o=1e3;break;case"minute":o=6e4;break;case"hour":o=36e5;break;case"day":o=864e5}return parseInt((i.getTime()-n.getTime())/parseFloat(o,0),0)},e.hookTime=function(t,e){var a=new Date,n=a.getMinutes(),i=a.getSeconds(),o=a.getMilliseconds();console.log(t+" "+e+" "+n+"-"+i+"-"+o)},e.loader={show:function(){if(!(0,o["default"])(".ball-beat")[0]){var t=document.body;(0,o["default"])(t).append('<div class="loader-inner ball-beat"><div></div><div></div><div></div></div>')}},hide:function(){(0,o["default"])(".ball-beat").remove()}},e.wxShareConfig=function(t,e,a,n){var i=t.title,o=t.desc,l=t.link,f=t.imgUrl;console.log("wxShare Config"),s["default"].ready(function(){s["default"].onMenuShareAppMessage({title:i,desc:o,link:l,imgUrl:f,success:e,fail:a}),s["default"].onMenuShareTimeline({title:i,link:l,imgUrl:f,success:e,fail:a}),s["default"].onMenuShareQQ({title:i,desc:o,link:l,imgUrl:f,success:e,fail:a}),s["default"].onMenuShareWeibo({title:i,desc:o,link:l,imgUrl:f,success:e,fail:a}),s["default"].onMenuShareQZone({title:i,desc:o,link:l,imgUrl:f,success:e,fail:a})})}},133:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(19),o=a(11),l=n(o);e["default"]={props:{amount:10,show:!1,plan:""},methods:{addToCart:function(t){var e=this;return parseFloat(this.amount)<=0?void l["default"].toast("请输入有效倍数"):void this.$http.post(i.planApi.upCart,{pid:t.plan_id,amt:this.amount},{headers:{"x-token":window.localStorage.getItem("token")},emulateJSON:!0}).then(function(t){var a=t.data,n=a.code,i=a.msg;1===n?(e.$parent.closeModal(),l["default"].toast("已加入购物车"),e.$root.setCardBadge()):0===n?l["default"].toast("会话失效,请重新登录..."):console.error("加入购物车失败:"+i)})["catch"](function(t){console.error("无法加入购物车:"+t)})}}}},144:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(253),o=n(i),l=a(19),s=a(44),f=a(11),r=n(f);e["default"]={ready:function(){var t=this;r["default"].init(),this.$http.get(l.planApi.time,{},{headers:{"x-token":window.localStorage.getItem("token")},emulateJSON:!0}).then(function(e){var a=e.data,n=a.code,i=(a.msg,a.result);1===n&&t.$set("serviceTime",i)})["catch"](function(){console.error("无法连接服务器-获取服务器时间")}),this.loadPlan()},data:function(){return{id:this.$route.params.id,title:"方案详情",path:"/plan",attachInfo:"",certList:"",expertHistory:"",plan:"",summary:"",serviceTime:"",residualTime:"",showPayBtn:!1,disabledPayBtn:!1,showImg:"true"===window.localStorage.getItem("imageSwitch"),userId:window.localStorage.getItem("user")?JSON.parse(window.localStorage.getItem("user")).user_id:null,loading:!1,pagenum:0}},methods:{showInfo:function(t,e){"block"===document.getElementById(t).style.display?document.getElementById(t).style.display="none":document.getElementById(t).style.display="block"},closeModal:function(){this.showPayBtn=!1},popPay:function(){this.disabledPayBtn||(window.localStorage.getItem("user")?this.showPayBtn=!0:r["default"].toast("请登录后购买方案..."))},loadPlan:function(){var t=this;r["default"].showIndicator(),this.$http.post(l.planApi.detail,{pid:this.id},{headers:{"x-token":window.localStorage.getItem("token")},emulateJSON:!0}).then(function(e){var a=e.data,n=a.code,i=a.msg,o=a.result;if(1===n){t.$set("attachInfo",o.attachInfo),t.$set("certList",o.certList),t.$set("expertHistory",o.expertHistory),t.$set("plan",o.plan),t.$set("summary",o.summaryList[0]);var l=(0,s.getDateDiff)(t.serviceTime,o.plan.deallineTime,"minute");t.$set("residualTime",l>0?l+"分钟":"已截止"),0>l&&t.$set("disabledPayBtn",!0)}else console.error("获取方案明细失败:"+i)})["catch"](function(){console.error("无法连接服务器-获取方案明细")})["finally"](function(){r["default"].pullToRefreshDone(".pull-to-refresh-content"),r["default"].hideIndicator()})}},components:{VPlanPayButton:o["default"]}}},177:function(t,e,a){e=t.exports=a(5)(),e.push([t.id,".icon-left[_v-5208e70c]{width:1rem}.modal-button-sml[_v-5208e70c]{width:100%;padding:0 .25rem;height:2.2rem;font-size:.85rem;line-height:2.2rem;text-align:center;color:#0894ec;background:#e8e8e8;display:block;position:relative;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;cursor:pointer;box-sizing:border-box;-webkit-box-flex:1;-ms-flex:1}",""])},181:function(t,e,a){e=t.exports=a(5)(),e.push([t.id,".list-block[_v-73f2110a]{margin:2.2rem 0;height:2.9rem;font-size:.74rem;ul{height:2.9rem}.item-content{margin-top:.7rem;height:inherit}}.headerColor[_v-73f2110a]{background-color:#ed8e07}.fafafa[_v-73f2110a]{background-color:#fafafa}.r04[_v-73f2110a]{margin-right:.4rem}.center2[_v-73f2110a]{margin-left:auto;margin-right:auto}.submit-button[_v-73f2110a]{width:100%;padding:0 .45rem}.submit-button button[_v-73f2110a]{background-color:red;width:100%;line-height:2.1rem!important;height:2.1rem!important}.toolBarDetail[_v-73f2110a]{position:absolute;bottom:.38rem;width:100%;text-align:center;background-color:#fff}.list-block .item-content2[_v-73f2110a]{box-sizing:border-box;min-height:2.2rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.list-block .item-title2[_v-73f2110a]{-ms-flex:0 1 auto;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;position:relative;max-width:100%;padding-left:.4rem}.list-block .item-inner[_v-73f2110a]:before,.list-block ul[_v-73f2110a]:before{content:'';position:absolute;left:0;top:0;bottom:auto;right:auto;height:1px;width:100%;background-color:#e7e7e7;display:block;z-index:15;-webkit-transform-origin:50% 0;transform-origin:50% 0}",""])},206:function(t,e,a){var n=a(177);"string"==typeof n&&(n=[[t.id,n,""]]);a(6)(n,{});n.locals&&(t.exports=n.locals)},210:function(t,e,a){var n=a(181);"string"==typeof n&&(n=[[t.id,n,""]]);a(6)(n,{});n.locals&&(t.exports=n.locals)},242:function(t,e){t.exports='<div :class="[\'actions-modal\', show ? \'modal-in\' : \'modal-out\']" @click=$event.stopPropagation() _v-5208e70c=""> <div class=actions-modal-group _v-5208e70c=""> <span class=actions-modal-label _v-5208e70c="">请选择倍数</span> <span class="actions-modal-button actions-modal-button-bold" _v-5208e70c=""> <div class=modal-buttons _v-5208e70c=""> <span class=modal-button-sml @click="this.amount=5" :style="(this.amount===5?\'color:#f6383a\':\'\')" _v-5208e70c="">5</span> <span class=modal-button-sml @click="this.amount=10" :style="(this.amount===10?\'color:#f6383a\':\'\')" _v-5208e70c="">10</span> <span class=modal-button-sml @click="this.amount=20" :style="(this.amount===20?\'color:#f6383a\':\'\')" _v-5208e70c="">20</span> <span class=modal-button-sml @click="this.amount=50" :style="(this.amount===50?\'color:#f6383a\':\'\')" _v-5208e70c="">50</span> <span class=modal-button-sml @click="this.amount=100" :style="(this.amount===100?\'color:#f6383a\':\'\')" _v-5208e70c="">100</span> </div> </span> <span class=actions-modal-button _v-5208e70c=""> <div class=modal-buttons _v-5208e70c=""> <span class=modal-button-sml @click="this.amount<2?1:this.amount-=1" style=width:20%;font-size:2rem;color:#000 _v-5208e70c="">-</span> <span class=modal-button-sml style=width:60% _v-5208e70c=""> <input v-model=amount type=number min=1 max=9999 style=ime-mode:disabled;height:1.8rem;width:100%;text-align:center;color:#f6383a onkeypress="(event.keyCode<48||event.keyCode>57)&&(event.returnValue=!1)" onkeyup=\'this.value=this.value.replace(/\\D/g,"")\' _v-5208e70c=""> </span> <span class=modal-button-sml @click="this.amount+=1" style=width:20%;font-size:1.4rem;color:#000 _v-5208e70c="">+</span> </div> </span> <span class=actions-modal-label _v-5208e70c=""> 需&nbsp;<font style=color:#f6383a _v-5208e70c="">{{amount*plan.plan_amount}}</font>&nbsp;元 </span> </div> <div class=actions-modal-group _v-5208e70c=""> <span class="actions-modal-button bg-danger" @click=addToCart(this.plan) _v-5208e70c="">确认</span> </div> </div>'},246:function(t,e){t.exports='<div class=content transition=bounce style=margin-bottom:1.8rem _v-73f2110a=""> <header class="bar bar-nav" _v-73f2110a=""> <a class="button button-link button-nav pull-left" v-link="{path: \'/plan\', replace: true}" _v-73f2110a=""> <span class="icon icon-left" _v-73f2110a=""></span> </a> <h1 class="title headerColor" _v-73f2110a="">方案详情</h1> </header> <div class=list-block _v-73f2110a=""> <ul _v-73f2110a=""> <li class=item-content _v-73f2110a=""> <div style=width:100% _v-73f2110a=""> <span style=margin-left:-.4rem _v-73f2110a=""> 信心指数 <img v-if="plan.planConfident===-1 || plan.planConfident>0" src=/img/专家方案/信心.png width=12 height=12 _v-73f2110a=""> <img v-if="plan.planConfident===-1 || plan.planConfident>1" src=/img/专家方案/信心.png width=12 height=12 style=margin-left:-.1rem _v-73f2110a=""> <img v-if="plan.planConfident===-1 || plan.planConfident>2" src=/img/专家方案/信心.png width=12 height=12 style=margin-left:-.1rem _v-73f2110a=""> <img v-if="plan.planConfident>3" style=margin-left:-.1rem src=/img/专家方案/信心.png width=12 height=12 _v-73f2110a=""> <img v-if="plan.planConfident>4" style=margin-left:-.1rem src=/img/专家方案/信心.png width=12 height=12 _v-73f2110a=""> </span> <span class="pull-right r04" _v-73f2110a=""> 剩余购买时间:{{residualTime}} </span> </div> </li> <li class=item-content _v-73f2110a=""> <div class=center2 _v-73f2110a=""> <img :src=plan.expert_photo class=img-responsive width=64 height=68 _v-73f2110a=""> </div> </li> <li class=item-content style=margin-top:-.6rem _v-73f2110a=""> <div class=center2 _v-73f2110a=""> {{plan.expert_name}} <font style=font-size:.6rem _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="">[{{plan.plan_name}}]<font _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a=""> </font></font></div><font style=font-size:.6rem _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a=""><font _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a=""> </font></font></li><font style=font-size:.6rem _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a=""><font _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a=""> <li class=item-content style=margin-top:-.8rem _v-73f2110a=""> <div class=pull-left style=margin-left:-.4rem _v-73f2110a=""> 方案数:{{summary.planTotalNum}} </div> <div class=center2 _v-73f2110a=""> 胜率:{{parseInt(summary.winrate*100, 0)}}% </div> <div class="pull-right r04" _v-73f2110a=""> 奖金:{{summary.totalProfit}} </div> </li> <li class=item-content style=margin-top:-.6rem;background-color:#3c3d42 _v-73f2110a=""> <div style=width:180% _v-73f2110a=""> <span class=icon-histogram style=font-size:1rem;color:red _v-73f2110a=""> <font style=font-size:.68rem;color:#fff _v-73f2110a=""> {{plan.range_name}} </font> </span> <span class="pull-right icon-piechart r04" style=font-size:1rem;color:red _v-73f2110a=""> <font style=font-size:.68rem;color:#FFF v-if="plan.range_saleLimit-plan.saledAmount>0" _v-73f2110a=""> 限购剩余 {{plan.range_saleLimit-plan.saledAmount}} 元 </font> <font style=font-size:.68rem;color:#FFF v-else="" _v-73f2110a=""> 不限购 </font> </span> </div> </li> </font></font></ul><font style=font-size:.6rem _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a=""><font _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a=""> <ul _v-73f2110a=""> <li class="item-content2 item-link" @click="showInfo(\'planContent\',$event)" _v-73f2110a=""> <div class=item-inner _v-73f2110a=""> <div class=item-title2 _v-73f2110a=""> 方案内容 <font style=font-size:.48rem;color:gray _v-73f2110a=""> (销售截止后才可查看) </font> </div> </div> </li> <li class="item-content2 fafafa" id=planContent style=display:none _v-73f2110a=""> <div class=item-inner _v-73f2110a=""> <div class=item-title2 style=font-size:.58rem;margin-left:.4rem _v-73f2110a=""> {{{plan.plan_content}}} </div> </div> </li> </ul> <ul _v-73f2110a=""> <li class="item-content2 item-link" @click="showInfo(\'expertDesc\',$event)" _v-73f2110a=""> <div class=item-inner _v-73f2110a=""> <div class=item-title2 _v-73f2110a="">专家简介</div> </div> </li> <li class="item-content2 fafafa" id=expertDesc style=display:none _v-73f2110a=""> <div class=item-inner _v-73f2110a=""> <div class=item-title2 style=font-size:.58rem;margin-left:.4rem _v-73f2110a=""> {{attachInfo.expertIntro}} </div> </div> </li> </ul> <ul _v-73f2110a=""> <li class="item-content2 item-link" @click="showInfo(\'expertHistory\',$event)" _v-73f2110a=""> <div class=item-inner _v-73f2110a=""> <div class=item-title2 _v-73f2110a="">专家战绩</div> </div> </li> <li class=item-content2 id=expertHistory style=display:block;font-size:.6rem _v-73f2110a=""> <div v-for="h in expertHistory | orderBy \'plan_status\' -1" class="item-inner item-title2 fafafa" :style="(h.planResult!==\'胜\'?\'\':\'color:#FF2D2D\')" _v-73f2110a=""> <div _v-73f2110a=""> {{h.effective_time.substr(5, 5)}} </div> <div _v-73f2110a=""> <span class=icon-histogram _v-73f2110a=""> {{h.rangeName}} </span> </div> <div _v-73f2110a=""> <div class=icon-golds _v-73f2110a=""> {{h.plan_amount}}.00元 </div> </div> <div :class="h.planResult===\'胜\'?\'icon-right2\':(h.planResult===\'负\'?\'icon-wrong2\':\'icon-cancel2\')" _v-73f2110a=""></div> </div> </li> </ul> <br _v-73f2110a=""> </font></font></div><font style=font-size:.6rem _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a=""><font _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a=""> </font></font></div><font style=font-size:.6rem _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a=""><font _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a="" _v-73f2110a=""> <div class=toolBarDetail _v-73f2110a=""> <div class=submit-button _v-73f2110a=""> <button v-show=!showPayBtn class="button button-big button-fill" :class="disabledPayBtn?\'disabled\':\'\'" @click=popPay() _v-73f2110a="">购买方案</button> </div> </div> <div :class="[\'modal-overlay\', showPayBtn ? \'modal-overlay-visible\' : \'\']" v-on:click=closeModal _v-73f2110a=""> <v-plan-pay-button :amount=plan.plan_amount :title=title :show=showPayBtn :plan=plan _v-73f2110a=""></v-plan-pay-button> </div> </font></font>'},253:function(t,e,a){var n,i;a(206),n=a(133),i=a(242),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)},265:function(t,e,a){var n,i;a(210),n=a(144),i=a(246),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)}});